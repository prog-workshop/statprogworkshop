<!DOCTYPE html>
<html lang="en"><head>
<script src="Clinical_Report_With_R_files/libs/clipboard/clipboard.min.js"></script>
<script src="Clinical_Report_With_R_files/libs/quarto-html/tabby.min.js"></script>
<script src="Clinical_Report_With_R_files/libs/quarto-html/popper.min.js"></script>
<script src="Clinical_Report_With_R_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="Clinical_Report_With_R_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Clinical_Report_With_R_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="Clinical_Report_With_R_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="Clinical_Report_With_R_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Tao Xiang">
  <meta name="dcterms.date" content="2024-07-26">
  <title>Clinical Report with R</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="Clinical_Report_With_R_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="Clinical_Report_With_R_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="Clinical_Report_With_R_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="styles/vs.css">
  <link href="Clinical_Report_With_R_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-pointer/pointer.css" rel="stylesheet">
  <link href="Clinical_Report_With_R_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <link href="Clinical_Report_With_R_files/libs/tabwid-1.1.3/tabwid.css" rel="stylesheet">
  <script src="Clinical_Report_With_R_files/libs/tabwid-1.1.3/tabwid.js"></script>
  <script src="Clinical_Report_With_R_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
  <script src="Clinical_Report_With_R_files/libs/viz-1.8.2/viz.js"></script>
  <link href="Clinical_Report_With_R_files/libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
  <script src="Clinical_Report_With_R_files/libs/grViz-binding-1.0.10/grViz.js"></script>
  <script src="highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <script>
  window.addEventListener("DOMContentLoaded", () => {
    function update_logo_classes(event) {
      let logo = document.getElementsByClassName("slide-logo")[0];
      let slide = Reveal.getCurrentSlide();

      if (slide.id == "title-slide") { 
        logo.classList.add("slide-logo-title");
      } else {
        logo.classList.remove("slide-logo-title");
      }
    }

    Reveal.on('ready', update_logo_classes);
    Reveal.on('slidechanged', update_logo_classes);
  })
  </script>
  
  <style>

	.intro {
	  margin-top: 0px;
	  text-align: center;
	  background: linear-gradient(to right, #FBD17C , #E85811);
	}

	</style>

	<img class="title-logo" src="assets/logo-title.png" style="top: 0px; left: 380px; width: 300px;">

	<div class="intro">
	  
	  <h1> <span style="font-size: 50px; color:#002060; ">Clinical Report with R</span> </h1>
	  	  <h2> <span style="font-size: 30px; color:#002060;">R for TFL</span></h2>
	  	</div>

	<center>
	  <hr>
	  	  <p class="author">Tao Xiang</p>
	  	  	  	  <p class="date">2024-07-26</p>
	  	</center>

</section>
<section id="preface" class="slide level2">
<h2>Preface</h2>
<ul>
<li><p>This is a presentation for R users in all-levels.</p></li>
<li><p>We will focus on how to apply R programming into our daily TLF, rather than deconstructing R codes in TLF</p></li>
<li><p>Feel free to interrupt if any question during presenting</p></li>
</ul>
</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<p>In this workshop, four topics will be presented:</p>
<ul>
<li>Introduction to <strong>R &amp; R markdown</strong> (15 min)</li>
<li>Frontier of R for TLFs in pharmaceutical industry (15 min)</li>
<li>Creating TLFs with R to PDF (30 min)</li>
<li>Creating TLFs with R to RTF (30 min)</li>
</ul>
</section>
<section id="what-is-rrstudior-markdown" class="slide level2">
<h2>What is R/RStudio/R Markdown?</h2>
<ul>
<li><p><strong>R</strong> is a language and environment for statistical computing and graphics. It is a GNU project which is similar to the S language and environment which was developed at Bell Laboratories.</p></li>
<li><p><strong>RStudio</strong> is an integrated development environment (IDE) for R and Python. It includes a console, syntax-highlighting editor that supports direct code execution, and tools for plotting, history, debugging, and workspace management.</p></li>
<li><p><strong>R Markdown</strong>: Computing language + Authoring language (R + Markdown) to generate reproducible high-quality reports</p></li>
</ul>
</section>
<section id="why-r" class="slide level2">
<h2>Why R?</h2>
<div class="columns">
<div class="column" style="width:33%;">
<div class="fragment">
<p><img data-src="pictures/no-money.jpg"></p>
<p>Free to use in your local laptop forever</p>
</div>
</div><div class="column" style="width:34%;">
<div class="fragment">
<p><img data-src="pictures/musk_open_source.jpg"></p>
<p>Open-source is always be appreciated</p>
</div>
</div><div class="column" style="width:33%;">
<div class="fragment">
<p><img data-src="pictures/Rtrend.png"></p>
<p>R gains popularity in Big Data Era</p>
</div>
</div>
</div>
</section>
<section id="r-events-in-pharma" class="slide level2">
<h2>R Events in Pharma</h2>
<div class="fragment">
<ul>
<li><a href="https://rinpharma.com/">R/Pharma</a> conferences and events were sponsored by Phuse since 2018</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>More topics about R/R Shiny in PharmaSUG Events</li>
</ul>
</div>
<div class="fragment">
<ul>
<li>PharmaRUG in China since 2023</li>
</ul>
</div>
</section>
<section id="r-based-submission-package-submitted-to-fda-publicly-available" class="slide level2">
<h2>R-Based Submission Package Submitted to FDA (Publicly Available)</h2>
<blockquote>
<p>Three submission pilot</p>
</blockquote>
<div class="fragment">
<ul>
<li><span style="color:red">RConsortium/submissions-pilot1-to-fda</span>: A respiratory in GitHub demonstrates the eCTD submission package, an FDA official response letter with statistical review and evaluation is also covered in this repo</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span style="color:red">RConsortium/submissions-pilot2-to-fda</span>: A respiratory in GitHub tests the concept that a Shiny application created with the R-language can be bundled into a submission package and transferred successfully to FDA reviewers. (Finished)</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><span style="color:red">RConsortium/submissions-pilot3-to-fda</span>: A respiratory in GitHub expands on the work done in submission Pilot 1 by utilizing R to generate ADaM datasets</li>
</ul>
</div>
</section>
<section id="novo-nordisks-journey-to-an-r-based-fda-submission-details-are-unpublic" class="slide level2">
<h2>Novo Nordisk’s journey to an R-based FDA submission (Details are unpublic)</h2>
<ul>
<li><a href="https://b23.tv/ndA4KVK">Novo Nordisk’s Journey to an R based FDA Submission - Bilibili</a></li>
</ul>
</section>
<section id="create-and-output-tablesfigures-with-r" class="slide level2">
<h2>Create and Output Tables/Figures with R</h2>
<blockquote>
<p>General Ways</p>
</blockquote>
<ul>
<li><img data-src="pictures/rmarkdown-logo.png" style="width:10.0%" alt="rmarkdown"> <a href="https://cran.r-project.org/web/packages/rmarkdown/vignettes/rmarkdown.html">R Markdown (Yihui Xie et al.)</a></li>
<li><img data-src="pictures/gt-logo.svg" style="width:10.0%" alt="gt"> <a href="https://gt.rstudio.com/">gt (Iannone et al.)</a></li>
<li><img data-src="pictures/flextable-logo.png" style="width:10.0%" alt="flextable"> <a href="https://davidgohel.github.io/flextable/">flextable (Gohel and Skintzos)</a></li>
<li><img data-src="pictures/huxtable-logo.png" style="width:10.0%" alt="huxtable"> <a href="https://hughjonesd.github.io/huxtable/huxtable.html">huxtable (David Hugh-Jones)</a></li>
</ul>
</section>
<section id="create-and-output-tablesfigures-with-r-1" class="slide level2">
<h2>Create and Output Tables/Figures with R</h2>
<blockquote>
<p>Packages developed by Pharma</p>
</blockquote>
<ul>
<li><img data-src="pictures/rtables_logo_small.png" style="width:12.0%" alt="rtables"> <a href="https://insightsengineering.github.io/rtables/main/">rtables (Roche)</a></li>
<li><img data-src="pictures/r2rtf-logo.png" style="width:10.0%" alt="r2rtf"> <a href="https://merck.github.io/r2rtf/">r2rtf (Merck Sharp &amp; Dohme Corp)</a></li>
<li><img data-src="pictures/tfrmt-logo.png" style="width:12.0%" alt="tfrmt"> <a href="https://gsk-biostatistics.github.io/tfrmt/">tfrmt (GlaxoSmithKline)</a></li>
<li><img data-src="pictures/tidytlg-logo.png" style="width:10.0%" alt="tidytlg"> <a href="https://pharmaverse.github.io/tidytlg/main/">tidytlg (Janssen)</a></li>
</ul>
</section>
<section id="concept-for-creating-tables-in-r" class="slide level2">
<h2>Concept for creating tables in R</h2>
<ol type="1">
<li>Create a data.frame</li>
<li>Transform 2-dimensional data to an table object (R list with attributions for output)</li>
<li>Format table in correlated list blocks</li>
<li>Translate/Encode to desired format (HTML, LaTeX, RTF)</li>
</ol>

<img data-src="pictures/gt_workflow_diagram.svg" style="width:50.0%" class="r-stretch"></section>
<section id="simple-gt-table-example" class="slide level2">
<h2>Simple <code>gt</code> table example</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb1" data-code-line-numbers="|4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb1-2"><a href="#cb1-2"></a>iris <span class="sc">|&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3"></a>  dplyr<span class="sc">::</span><span class="fu">filter</span>(Sepal.Length<span class="sc">&gt;</span><span class="dv">7</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>  <span class="fu">gt</span>() <span class="sc">|&gt;</span></span>
<span id="cb1-5"><a href="#cb1-5"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb1-6"><a href="#cb1-6"></a>    <span class="at">title =</span> <span class="st">"Iris Data"</span>,</span>
<span id="cb1-7"><a href="#cb1-7"></a>    <span class="at">subtitle =</span> <span class="st">"A Subtitle"</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">

<div id="yabjasroig" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#yabjasroig table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#yabjasroig thead, #yabjasroig tbody, #yabjasroig tfoot, #yabjasroig tr, #yabjasroig td, #yabjasroig th {
  border-style: none;
}

#yabjasroig p {
  margin: 0;
  padding: 0;
}

#yabjasroig .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#yabjasroig .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#yabjasroig .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#yabjasroig .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#yabjasroig .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yabjasroig .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yabjasroig .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#yabjasroig .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#yabjasroig .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#yabjasroig .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#yabjasroig .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#yabjasroig .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#yabjasroig .gt_spanner_row {
  border-bottom-style: hidden;
}

#yabjasroig .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#yabjasroig .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#yabjasroig .gt_from_md > :first-child {
  margin-top: 0;
}

#yabjasroig .gt_from_md > :last-child {
  margin-bottom: 0;
}

#yabjasroig .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#yabjasroig .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#yabjasroig .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#yabjasroig .gt_row_group_first td {
  border-top-width: 2px;
}

#yabjasroig .gt_row_group_first th {
  border-top-width: 2px;
}

#yabjasroig .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yabjasroig .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#yabjasroig .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#yabjasroig .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yabjasroig .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#yabjasroig .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#yabjasroig .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#yabjasroig .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#yabjasroig .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#yabjasroig .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yabjasroig .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yabjasroig .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#yabjasroig .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#yabjasroig .gt_left {
  text-align: left;
}

#yabjasroig .gt_center {
  text-align: center;
}

#yabjasroig .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#yabjasroig .gt_font_normal {
  font-weight: normal;
}

#yabjasroig .gt_font_bold {
  font-weight: bold;
}

#yabjasroig .gt_font_italic {
  font-style: italic;
}

#yabjasroig .gt_super {
  font-size: 65%;
}

#yabjasroig .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#yabjasroig .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#yabjasroig .gt_indent_1 {
  text-indent: 5px;
}

#yabjasroig .gt_indent_2 {
  text-indent: 10px;
}

#yabjasroig .gt_indent_3 {
  text-indent: 15px;
}

#yabjasroig .gt_indent_4 {
  text-indent: 20px;
}

#yabjasroig .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="5" class="gt_heading gt_title gt_font_normal" style="">Iris Data</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="5" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="">A Subtitle</td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Sepal.Length">Sepal.Length</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Sepal.Width">Sepal.Width</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Petal.Length">Petal.Length</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Petal.Width">Petal.Width</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Species">Species</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.1</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.0</td>
<td headers="Petal.Length" class="gt_row gt_right">5.9</td>
<td headers="Petal.Width" class="gt_row gt_right">2.1</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.6</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.0</td>
<td headers="Petal.Length" class="gt_row gt_right">6.6</td>
<td headers="Petal.Width" class="gt_row gt_right">2.1</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.3</td>
<td headers="Sepal.Width" class="gt_row gt_right">2.9</td>
<td headers="Petal.Length" class="gt_row gt_right">6.3</td>
<td headers="Petal.Width" class="gt_row gt_right">1.8</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.2</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.6</td>
<td headers="Petal.Length" class="gt_row gt_right">6.1</td>
<td headers="Petal.Width" class="gt_row gt_right">2.5</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.7</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.8</td>
<td headers="Petal.Length" class="gt_row gt_right">6.7</td>
<td headers="Petal.Width" class="gt_row gt_right">2.2</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.7</td>
<td headers="Sepal.Width" class="gt_row gt_right">2.6</td>
<td headers="Petal.Length" class="gt_row gt_right">6.9</td>
<td headers="Petal.Width" class="gt_row gt_right">2.3</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.7</td>
<td headers="Sepal.Width" class="gt_row gt_right">2.8</td>
<td headers="Petal.Length" class="gt_row gt_right">6.7</td>
<td headers="Petal.Width" class="gt_row gt_right">2.0</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.2</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.2</td>
<td headers="Petal.Length" class="gt_row gt_right">6.0</td>
<td headers="Petal.Width" class="gt_row gt_right">1.8</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.2</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.0</td>
<td headers="Petal.Length" class="gt_row gt_right">5.8</td>
<td headers="Petal.Width" class="gt_row gt_right">1.6</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.4</td>
<td headers="Sepal.Width" class="gt_row gt_right">2.8</td>
<td headers="Petal.Length" class="gt_row gt_right">6.1</td>
<td headers="Petal.Width" class="gt_row gt_right">1.9</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.9</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.8</td>
<td headers="Petal.Length" class="gt_row gt_right">6.4</td>
<td headers="Petal.Width" class="gt_row gt_right">2.0</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
    <tr><td headers="Sepal.Length" class="gt_row gt_right">7.7</td>
<td headers="Sepal.Width" class="gt_row gt_right">3.0</td>
<td headers="Petal.Length" class="gt_row gt_right">6.1</td>
<td headers="Petal.Width" class="gt_row gt_right">2.3</td>
<td headers="Species" class="gt_row gt_center">virginica</td></tr>
  </tbody>
  
  
</table>
</div>
</div>
</div>
</div>
</section>
<section id="simple-rtables-example" class="slide level2">
<h2>Simple <code>rtables</code> example</h2>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">suppressPackageStartupMessages</span>(</span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">library</span>(rtables)</span>
<span id="cb2-3"><a href="#cb2-3"></a>)</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a>lyt <span class="ot">&lt;-</span> <span class="fu">basic_table</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-6"><a href="#cb2-6"></a>  <span class="fu">split_cols_by</span>(<span class="st">"ARM"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>  <span class="fu">analyze</span>(<span class="fu">c</span>(<span class="st">"AGE"</span>, <span class="st">"BMRKR1"</span>, <span class="st">"BMRKR2"</span>), <span class="cf">function</span>(x, ...) {</span>
<span id="cb2-8"><a href="#cb2-8"></a>    <span class="cf">if</span> (<span class="fu">is.numeric</span>(x)) {</span>
<span id="cb2-9"><a href="#cb2-9"></a>      <span class="fu">in_rows</span>(</span>
<span id="cb2-10"><a href="#cb2-10"></a>        <span class="st">"Mean (sd)"</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="fu">mean</span>(x), <span class="fu">sd</span>(x)),</span>
<span id="cb2-11"><a href="#cb2-11"></a>        <span class="st">"Median"</span> <span class="ot">=</span> <span class="fu">median</span>(x),</span>
<span id="cb2-12"><a href="#cb2-12"></a>        <span class="st">"Min - Max"</span> <span class="ot">=</span> <span class="fu">range</span>(x),</span>
<span id="cb2-13"><a href="#cb2-13"></a>        <span class="at">.formats =</span> <span class="fu">c</span>(<span class="st">"xx.xx (xx.xx)"</span>, <span class="st">"xx.xx"</span>, <span class="st">"xx.xx - xx.xx"</span>)</span>
<span id="cb2-14"><a href="#cb2-14"></a>      )</span>
<span id="cb2-15"><a href="#cb2-15"></a>    } <span class="cf">else</span> <span class="cf">if</span> (<span class="fu">is.factor</span>(x) <span class="sc">||</span> <span class="fu">is.character</span>(x)) {</span>
<span id="cb2-16"><a href="#cb2-16"></a>      <span class="fu">in_rows</span>(<span class="at">.list =</span> <span class="fu">list_wrap_x</span>(table)(x))</span>
<span id="cb2-17"><a href="#cb2-17"></a>    } <span class="cf">else</span> {</span>
<span id="cb2-18"><a href="#cb2-18"></a>      <span class="fu">stop</span>(<span class="st">"type not supported"</span>)</span>
<span id="cb2-19"><a href="#cb2-19"></a>    }</span>
<span id="cb2-20"><a href="#cb2-20"></a>  })</span>
<span id="cb2-21"><a href="#cb2-21"></a></span>
<span id="cb2-22"><a href="#cb2-22"></a><span class="fu">build_table</span>(lyt, ex_adsl)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output cell-output-stdout">
<pre><code>                A: Drug X      B: Placebo     C: Combination
------------------------------------------------------------
AGE                                                         
  Mean (sd)   33.77 (6.55)    35.43 (7.90)     35.43 (7.72) 
  Median          33.00           35.00           35.00     
  Min - Max   21.00 - 50.00   21.00 - 62.00   20.00 - 69.00 
BMRKR1                                                      
  Mean (sd)    5.97 (3.55)     5.70 (3.31)     5.62 (3.49)  
  Median          5.39            4.81             4.61     
  Min - Max   0.41 - 17.67    0.65 - 14.24     0.17 - 21.39 
BMRKR2                                                      
  LOW              50              45               40      
  MEDIUM           37              56               42      
  HIGH             47              33               50      </code></pre>
</div>
</div>
</div>
</section>
<section id="simple-r2rtf-example" class="slide level2">
<h2>Simple <code>r2rtf</code> example</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">head</span>(iris) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2"></a>  <span class="fu">rtf_body</span>() <span class="sc">%&gt;%</span>           <span class="co"># Step 1 Add table attributes</span></span>
<span id="cb4-3"><a href="#cb4-3"></a>  <span class="fu">rtf_encode</span>() <span class="sc">%&gt;%</span>         <span class="co"># Step 2 Convert attributes to RTF encode</span></span>
<span id="cb4-4"><a href="#cb4-4"></a>  <span class="fu">write_rtf</span>(<span class="st">"minimal.rtf"</span>) <span class="co"># Step 3 Write to a .rtf file</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>

<img data-src="pictures/r2rtf-sample.png" class="r-stretch"></section>
<section id="experience-1-tfl-in-pdf-with-r" class="slide level2">
<h2>Experience 1: TFL in PDF with R</h2>
<p>Inspired by R-based pilot submission in late 2021, I started to exploring the way to create TLF with R which can visually be compatible with SAS ODS outputs template in 2022. As a fan of r markdown, I made the first breakthrough by applying tidyverse on markdown to generate ICH style tables.</p>
</section>
<section id="structure-of-r-markdown" class="slide level2">
<h2>Structure of R markdown</h2>
<p>It contains three important types of content:</p>
<ol type="1">
<li>An (optional) YAML header surrounded by —s.</li>
<li>Chunks of R code surrounded by ```.</li>
<li>Text mixed with simple text formatting like # heading and <em>italics</em>.</li>
</ol>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>---
title: "Sample RMD"
date: 2022-02-22
output: pdf_document
---

Any plain text here.

```{r include = FALSE}
library(ggplot2)

diamonds %&gt;% 
  ggplot(aes(carat)) + 
  geom_freqpoly(binwidth = 0.01)
```</code></pre>
</div>
</div>
</section>
<section id="r-markdown-workflow-knit-the-document" class="slide level2">
<h2>R markdown workflow (knit the document)</h2>
<p>Precisely, R markdown is pandoc’s markdown. It combines plain text and R codes (maybe other language code) together, use <code>knitr</code> package as core to create a md file which includes the code and its output. The markdown file generated by <code>knitr</code> is then processed by pandoc, <a href="http://pandoc.org/" class="uri">http://pandoc.org/</a>, which is responsible for creating the finished file.</p>

<img data-src="pictures/rmarkdownflow.png" class="r-stretch"></section>
<section id="a-highly-customized-csr-table-with-rmd" class="slide level2">
<h2>A highly customized CSR table with RMD</h2>
<p><a href="t-ae-socpt.pdf">TEAE by SOC by PT table</a></p>
<!-- ```{=html} -->
<!-- <body> -->
<!--     <center> -->
<!--         <object data= "t-ae-socpt.pdf" -->
<!--                 width="900" -->
<!--                 height="500"> -->
<!--         </iframe> -->
<!--     </center> -->
<!-- </body> -->
<!-- ``` -->
</section>
<section id="prerequisite" class="slide level2">
<h2>Prerequisite</h2>
<p>Please use Rstudio as IDE, and install the required R packages at the first</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>) <span class="co">#Modern R data manipulation scheme, include a bunch of essential packages</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="fu">install.packages</span>(<span class="st">"rmarkdown"</span>) <span class="co">#R markdown ecosystem</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="fu">install.packages</span>(<span class="st">"haven"</span>) <span class="co">#Import and export SAS files, also support SPSS, STATA files</span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="fu">install.packages</span>(<span class="st">"tinytex"</span>) <span class="co">#Help to install and maintain Tex Live , and Compile LaTeX Documents</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="fu">install_tinytex</span>() <span class="co">#Downloads and installs TinyTeX, a custom LaTeX distribution based on TeX Live</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="elements-to-construct-a-table" class="slide level2">
<h2>Elements to construct a table</h2>
<p>Our shell and table template are always constructed by 3 part:</p>
<p><strong>Header + body + footer</strong></p>
<p>In LaTeX, this is a frequently used format with developed package <a href="https://mirrors.pku.edu.cn/ctan/macros/latex/contrib/fancyhdr/fancyhdr.pdf">fancyhdr</a></p>
<div class="columns">
<div class="column" style="width:50%;">
<p><img data-src="pictures/pdf-template.png"></p>
</div><div class="column" style="width:50%;">
<p><img data-src="pictures/simple-fancy.png" width="3943"></p>
</div>
</div>
</section>
<section id="table-elements" class="slide level2">
<h2>Table elements</h2>

<img data-src="pictures/rmd2pdf1.png" class="r-stretch"></section>
<section id="include-header-and-footer-with-yaml" class="slide level2">
<h2>Include header and footer with <code>YAML</code></h2>

<img data-src="pictures/rmd2pdf2.png" class="r-stretch"></section>
<section id="yaml-header-for-table-template" class="slide level2">
<h2><code>YAML</code> header for table template</h2>
<p>Here is a full <code>yaml</code> header we write for this table, we include some LaTex packages to enhance the output and also embed the header and footer in it.</p>
<pre><code>---
documentclass: report
classoption: 
- landscape
papersize: a4
geometry:
- left=0.75in
- right=0.375in
header-includes:
- \usepackage{longtable}
- \usepackage{array}
- \usepackage{multirow}
- \usepackage{wrapfig}
- \usepackage{float}
- \usepackage{colortbl}
- \usepackage{pdflscape}
- \usepackage{tabu}
- \usepackage{threeparttable}
- \usepackage{threeparttablex}
- \usepackage[normalem]{ulem}
- \usepackage{makecell}
- \usepackage{xcolor}
- \usepackage{lastpage}
- \usepackage{datetime}
- \renewcommand{\dateseparator}{-}
- \yyyymmdddate
- \usepackage[nocheck]{fancyhdr}
- \pagestyle{fancy}
- \fancyhead[L]{ Sponsor AAA \hfill Date of Cutoff:\  2022-02-02 \\  Protocol:\ AAA-001 \hfill Page \thepage\ of \pageref{LastPage} \newline \newline \centerline{Table 14.3.1.1:\ Summary of Treatment Emergent Adverse Events (TEAEs) by System Organ Class and Preferred Term} \\ \centerline{(Safety Analysis Population)}}
- \fancyfoot{}
- \fancyfoot[L]{ Note:\ Treatment-Emergent Adverse Events (TEAE) is defined as any
  adverse events that occurs after the first dose of study treatment. \newline Note:\
  The MedDRA version is 25.1. \newline Note:\ N is the denominator and the number
  of subjects(n) as numerator, M is the number of events.  \newline  \\   Program
  Name:\  t-test.rmd  \hfill  R version 4.2.2 (2022-10-31 ucrt)  \\ Output:\  t-test.pdf  \hfill
  Date Time Generated:\ \today\ \currenttime}
- \renewcommand{\headrulewidth}{0pt}
- \renewcommand{\footrulewidth}{1pt}
- \usepackage[justification=centering, font=normalsize, labelformat=empty]{caption}
- \usepackage{booktabs}
- \renewcommand{\bottomrule}{}

output:
  pdf_document: 
    latex_engine: xelatex
---</code></pre>
</section>
<section id="programming-body" class="slide level2">
<h2>Programming Body</h2>
<div class="fragment highlight-current-blue">
<ul>
<li>Required three packages for data manipulation, data import, output enhance</li>
</ul>
</div>
<div class="fragment highlight-current-blue">
<ul>
<li>Set project path and import analysis dataset</li>
</ul>
</div>
<div class="fragment highlight-current-blue">
<ul>
<li>Tidystyle programming with lots of steps to get final data just like SAS did</li>
</ul>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" data-code-line-numbers="|1-3|5-11|13-15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb8-2"><a href="#cb8-2"></a><span class="fu">library</span>(haven)</span>
<span id="cb8-3"><a href="#cb8-3"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb8-4"><a href="#cb8-4"></a></span>
<span id="cb8-5"><a href="#cb8-5"></a>project_folder <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">str_split_1</span>(<span class="fu">getwd</span>(), <span class="st">"/"</span>)[<span class="sc">-</span><span class="fu">length</span>(<span class="fu">str_split_1</span>(<span class="fu">getwd</span>(), <span class="st">"/"</span>))], <span class="at">collapse =</span> <span class="st">"/"</span>)</span>
<span id="cb8-6"><a href="#cb8-6"></a>path <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb8-7"><a href="#cb8-7"></a>  <span class="at">adam =</span> <span class="fu">paste0</span>(project_folder, <span class="st">"/adam"</span>),</span>
<span id="cb8-8"><a href="#cb8-8"></a>  <span class="at">metadata =</span> <span class="fu">paste0</span>(project_folder, <span class="st">"/metadata"</span>)</span>
<span id="cb8-9"><a href="#cb8-9"></a>)</span>
<span id="cb8-10"><a href="#cb8-10"></a>adae<span class="ot">&lt;-</span><span class="fu">read_xpt</span>(<span class="fu">file.path</span>(path<span class="sc">$</span>adam, <span class="st">"adae.xpt"</span>))</span>
<span id="cb8-11"><a href="#cb8-11"></a>adsl<span class="ot">&lt;-</span><span class="fu">read_xpt</span>(<span class="fu">file.path</span>(path<span class="sc">$</span>adam, <span class="st">"adsl.xpt"</span>))</span>
<span id="cb8-12"><a href="#cb8-12"></a></span>
<span id="cb8-13"><a href="#cb8-13"></a>final <span class="ot">&lt;-</span> <span class="fu">analyze</span>(</span>
<span id="cb8-14"><a href="#cb8-14"></a>  ... <span class="co">#For dummy presenting</span></span>
<span id="cb8-15"><a href="#cb8-15"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="enhanced-output-with-knitrkable-and-kableextra" class="slide level2">
<h2>Enhanced Output with <code>knitr::kable()</code> and <code>kableExtra</code></h2>
<div class="columns">
<div class="column" style="width:60%;">
<div class="cell">
<div class="sourceCode cell-code" id="cb9" data-code-line-numbers="|4-8|9-14|15-16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>output<span class="ot">&lt;-</span> <span class="fu">kable</span>(final, <span class="at">longtable=</span>T, <span class="at">booktabs=</span>T, <span class="at">align=</span><span class="st">'lcccccc'</span>,</span>
<span id="cb9-2"><a href="#cb9-2"></a>      <span class="at">escape=</span>F,</span>
<span id="cb9-3"><a href="#cb9-3"></a>      <span class="at">caption=</span><span class="fu">c</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">newline"</span>),</span>
<span id="cb9-4"><a href="#cb9-4"></a>      <span class="at">col.names =</span> <span class="fu">linebreak</span>(<span class="fu">c</span>(<span class="st">"System Organ Class/Preferred Term"</span>,<span class="st">"n </span><span class="sc">\\</span><span class="st">%"</span>, <span class="st">"m"</span>, <span class="st">"n </span><span class="sc">\\</span><span class="st">%"</span>, <span class="st">"m"</span>, <span class="st">"n </span><span class="sc">\\</span><span class="st">%"</span>, <span class="st">"m"</span>),</span>
<span id="cb9-5"><a href="#cb9-5"></a>                            <span class="at">align =</span> <span class="st">"c"</span>),</span>
<span id="cb9-6"><a href="#cb9-6"></a>      <span class="at">linesep =</span> sep_v</span>
<span id="cb9-7"><a href="#cb9-7"></a>      ) <span class="sc">%&gt;%</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="fu">add_indent</span>(ind_num) <span class="sc">%&gt;%</span></span>
<span id="cb9-9"><a href="#cb9-9"></a>  <span class="fu">add_header_above</span>(<span class="fu">c</span>(<span class="st">" "</span>, <span class="st">"Xanomeline Low Dose </span><span class="sc">\n</span><span class="st"> (n = 84)"</span><span class="ot">=</span><span class="dv">2</span>, <span class="st">"Xanomeline High Dose </span><span class="sc">\n</span><span class="st"> (n = 84)"</span><span class="ot">=</span><span class="dv">2</span>, <span class="st">"Placebo </span><span class="sc">\n</span><span class="st"> (n = 86)"</span> <span class="ot">=</span> <span class="dv">2</span>), <span class="at">line=</span>T, <span class="at">bold =</span> F) <span class="sc">%&gt;%</span></span>
<span id="cb9-10"><a href="#cb9-10"></a>  <span class="fu">kable_styling</span>(<span class="at">latex_options =</span> <span class="fu">c</span>(<span class="st">"repeat_header"</span>),</span>
<span id="cb9-11"><a href="#cb9-11"></a>                <span class="at">font_size =</span> <span class="fl">7.5</span>,</span>
<span id="cb9-12"><a href="#cb9-12"></a>                <span class="at">position =</span> <span class="st">"l"</span>,</span>
<span id="cb9-13"><a href="#cb9-13"></a>                <span class="at">repeat_header_text =</span> <span class="st">""</span>,</span>
<span id="cb9-14"><a href="#cb9-14"></a>                <span class="at">repeat_header_method =</span> <span class="st">"append"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb9-15"><a href="#cb9-15"></a>  <span class="fu">column_spec</span>(<span class="dv">1</span>, <span class="at">width =</span> <span class="st">"2.9in"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb9-16"><a href="#cb9-16"></a>  <span class="fu">column_spec</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">width =</span> <span class="st">"1.1in"</span>)</span>
<span id="cb9-17"><a href="#cb9-17"></a></span>
<span id="cb9-18"><a href="#cb9-18"></a>output</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:40%;">
<p><img data-src="pictures/kable-output.png"></p>
</div>
</div>
</section>
<section id="render-to-pdf-document" class="slide level2">
<h2>Render to PDF document</h2>
<ul>
<li><p>knit button (Ctrl + Shift + K)</p>
<ul>
<li><img data-src="pictures/knit-button.png"></li>
</ul></li>
<li><p>In console: <code>rmarkdown::render("t-ae-socpt.Rmd", "t-ae-socpt.pdf")</code></p></li>
</ul>
<!-- ## Concentrate the flow {auto-animate="true" auto-animate-easing="ease-in-out"} -->
<!-- ::: r-hstack -->
<!-- ::: {data-id="box1" auto-animate-delay="0" style="background: #2780e3; width: 200px; height: 150px; margin: 10px;"} -->
<!-- Header&Footer -->
<!-- ::: -->
<!-- ::: {data-id="box2" auto-animate-delay="0.1" style="background: #3fb618; width: 200px; height: 150px; margin: 10px;"} -->
<!-- Programming Body -->
<!-- ::: -->
<!-- ::: {data-id="box3" auto-animate-delay="0.2" style="background: #e83e8c; width: 200px; height: 150px; margin: 10px;"} -->
<!-- Enhanced output -->
<!-- ::: -->
<!-- ::: -->
<!-- ## Concentrate the flow {auto-animate="true" auto-animate-easing="ease-in-out"} -->
<!-- ::: r-stack -->
<!-- ::: {data-id="box1" style="background: #2780e3; width: 350px; height: 350px; "} -->
<!-- Header&Footer -->
<!-- ::: -->
<!-- ::: {data-id="box2" style="background: #3fb618; width: 350px; height: 250px; "} -->
<!-- Programming Body -->
<!-- ::: -->
<!-- ::: {data-id="box3" style="background: #e83e8c; width: 350px; height: 150px; "} -->
<!-- Enhanced output -->
<!-- ::: -->
<!-- ::: -->
</section>
<section id="automatic-template-generator" class="slide level2">
<h2>Automatic template generator</h2>
<ul>
<li><p><code>TLF-start.r</code> is a R script contained R codes to generate <code>yaml</code> header automatically</p></li>
<li><p>Code chunks includes several parts:</p>
<ul>
<li><p>Set header information, cut-off date, program names and output name</p></li>
<li><p>Project path setup</p></li>
<li><p>Import title and footnote from metadata</p></li>
<li><p>Generate yaml header in rmd file</p></li>
</ul></li>
</ul>
</section>
<section id="advantages-with-tlf-start.r" class="slide level2">
<h2>Advantages with <code>TLF-start.r</code></h2>
<ul>
<li><p>Perfectly be compatible with our company’s shell and title_footnote metadata.</p></li>
<li><p>One metadata works for both SAS and R in production side, much easier for switching</p></li>
<li><p>Save times and keep template stable.</p></li>
</ul>
</section>
<section id="roles-with-responsibility" class="slide level2">
<h2>Roles with responsibility</h2>
<ul>
<li><p>Statisticians still write shell followed internal rules</p></li>
<li><p><img data-src="pictures/title_footnote.png"></p></li>
<li><p>Lead programmer should set up <code>TLF-start.r</code> at the beginning of TLF work and apply <code>read_tfl_titlefoot.sas</code> to create metadata including all titles and footnotes</p></li>
<li><p>Prod/Dev programmer need to assign these objects in <code>TLF-start.r</code> and run code when initiate each TLF.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>program <span class="ot">&lt;-</span> <span class="st">"t-lbc.rmd"</span></span>
<span id="cb10-2"><a href="#cb10-2"></a>outname <span class="ot">&lt;-</span> <span class="st">"t-lbc.pdf"</span></span>
<span id="cb10-3"><a href="#cb10-3"></a>tlf_number <span class="ot">&lt;-</span> <span class="st">"Table 14.3.3.1"</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>metadata_type <span class="ot">&lt;-</span> <span class="st">"sas7bdat"</span> <span class="co">#file type include: sas7bdat, csv, xlsx, xls</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="initiate-or-update" class="slide level2">
<h2>Initiate or Update</h2>
<ul>
<li><code>TLF-start.r</code> could either initiate yaml header in a new Rmd file or update the template in working directory depends on the file existence</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="cf">if</span> (<span class="fu">file.exists</span>(program)) {</span>
<span id="cb11-2"><a href="#cb11-2"></a>  old.content<span class="ot">&lt;-</span>readr<span class="sc">::</span><span class="fu">read_lines</span>(program)</span>
<span id="cb11-3"><a href="#cb11-3"></a>  old.content.body<span class="ot">&lt;-</span>old.content[<span class="sc">-</span><span class="dv">1</span><span class="sc">:-</span><span class="fu">max</span>(<span class="fu">which</span>(old.content<span class="sc">==</span><span class="st">"---"</span>))]</span>
<span id="cb11-4"><a href="#cb11-4"></a>  new.content<span class="ot">&lt;-</span><span class="fu">c</span>(stringr<span class="sc">::</span><span class="fu">str_split_1</span>(x, <span class="st">"</span><span class="sc">\\</span><span class="st">n"</span>),old.content.body)</span>
<span id="cb11-5"><a href="#cb11-5"></a>  readr<span class="sc">::</span><span class="fu">write_lines</span>(new.content, program)</span>
<span id="cb11-6"><a href="#cb11-6"></a>} <span class="cf">else</span> {</span>
<span id="cb11-7"><a href="#cb11-7"></a>  readr<span class="sc">::</span><span class="fu">write_lines</span>(x, program)</span>
<span id="cb11-8"><a href="#cb11-8"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="hands-on-presenting" class="slide level2">
<h2>Hands-on presenting</h2>
<p>Source ADaM datasets:</p>
<ul>
<li><p>PHUSE CDISC Pilot replication ADaMs following ADaM IG v1.0</p></li>
<li><p>Github Respiratory: https://github.com/phuse-org/phuse-scripts/blob/master/data/adam/TDF_ADaM_v1.0.zip</p></li>
</ul>
</section>
<section id="experience-2-tlf-in-rtf-with-r" class="slide level2">
<h2>Experience 2: TLF in RTF with R</h2>
<p>Even PDF is a good document type for reviewing, RTF still plays a crucial rule for statistical analysis in pharmaceutical industry. R markdown generate nice and highly customized PDF/html outputs but have very limited support for RTF outputs. So, I have to find other ways to fulfill the requirements of customizing/generating RTF outputs.</p>
</section>
<section id="awesome-combo-flextable-officer" class="slide level2">
<h2>Awesome combo: <code>flextable</code> + <code>officer</code></h2>
<ul>
<li><p><img data-src="pictures/flextablelogo.png" style="width:10.0%"> <code>flextable</code> package provides a framework for easily creating tables for reporting and publications. Functions are provided to let users create tables, modify and format their content.</p></li>
<li><p><img data-src="pictures/officerlogo.svg" style="width:10.0%"> <code>officer</code> is designed to produce content that is essentially composed of tables, graphs, and is ideal in cases for clinical reporting and automation of reporting in compliance with the official corporate templates</p></li>
</ul>
</section>
<section id="prerequisite-r-packages" class="slide level2">
<h2>Prerequisite R packages</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a><span class="fu">library</span>(flextable) </span>
<span id="cb12-2"><a href="#cb12-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb12-3"><a href="#cb12-3"></a><span class="fu">library</span>(haven)</span>
<span id="cb12-4"><a href="#cb12-4"></a><span class="fu">library</span>(officer)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="be-flexible-to-create-tables-with-flextable" class="slide level2">
<h2>Be flexible to create tables with <code>flextable</code></h2>
<ul>
<li><code>flextable</code> can easily create reporting table from data.frame. You can merge cells, add header rows, add footer rows, change any format and specify how data should be displayed in cells</li>
</ul>
<div class="cell columns column-output-location">
<div class="column">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">library</span>(flextable)</span>
<span id="cb13-2"><a href="#cb13-2"></a>adsl<span class="ot">&lt;-</span>haven<span class="sc">::</span><span class="fu">read_xpt</span>(<span class="st">"ADaM/adsl.xpt"</span>)</span>
<span id="cb13-3"><a href="#cb13-3"></a>ft <span class="ot">&lt;-</span> <span class="fu">flextable</span>(</span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="at">data =</span> <span class="fu">head</span>(adsl), </span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="at">col_keys =</span> <span class="fu">c</span>(<span class="st">"SUBJID"</span>, <span class="st">"TRT01P"</span>, <span class="st">"AGE"</span>, <span class="st">"SEX"</span>, </span>
<span id="cb13-6"><a href="#cb13-6"></a>               <span class="st">"RACE"</span>))</span>
<span id="cb13-7"><a href="#cb13-7"></a>ft</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div><div class="column">
<div class="cell-output-display">

<div class="tabwid"><style>.cl-700d1630{}.cl-700080f0{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-7004f8f6{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-7004f900{margin:0;text-align:right;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-700512f0{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-700512f1{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 1.5pt solid rgba(102, 102, 102, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-700512fa{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-700512fb{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-700512fc{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-70051304{width:0.75in;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}</style><table data-quarto-disable-processing="true" class="cl-700d1630"><thead><tr style="overflow-wrap:break-word;"><th class="cl-700512f0"><p class="cl-7004f8f6"><span class="cl-700080f0">SUBJID</span></p></th><th class="cl-700512f0"><p class="cl-7004f8f6"><span class="cl-700080f0">TRT01P</span></p></th><th class="cl-700512f1"><p class="cl-7004f900"><span class="cl-700080f0">AGE</span></p></th><th class="cl-700512f0"><p class="cl-7004f8f6"><span class="cl-700080f0">SEX</span></p></th><th class="cl-700512f0"><p class="cl-7004f8f6"><span class="cl-700080f0">RACE</span></p></th></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">1015</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">Placebo</span></p></td><td class="cl-700512fb"><p class="cl-7004f900"><span class="cl-700080f0">63</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">F</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">WHITE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">1023</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">Placebo</span></p></td><td class="cl-700512fb"><p class="cl-7004f900"><span class="cl-700080f0">64</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">M</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">WHITE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">1028</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">Xanomeline High Dose</span></p></td><td class="cl-700512fb"><p class="cl-7004f900"><span class="cl-700080f0">71</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">M</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">WHITE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">1033</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">Xanomeline Low Dose</span></p></td><td class="cl-700512fb"><p class="cl-7004f900"><span class="cl-700080f0">74</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">M</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">WHITE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">1034</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">Xanomeline High Dose</span></p></td><td class="cl-700512fb"><p class="cl-7004f900"><span class="cl-700080f0">77</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">F</span></p></td><td class="cl-700512fa"><p class="cl-7004f8f6"><span class="cl-700080f0">WHITE</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-700512fc"><p class="cl-7004f8f6"><span class="cl-700080f0">1047</span></p></td><td class="cl-700512fc"><p class="cl-7004f8f6"><span class="cl-700080f0">Placebo</span></p></td><td class="cl-70051304"><p class="cl-7004f900"><span class="cl-700080f0">85</span></p></td><td class="cl-700512fc"><p class="cl-7004f8f6"><span class="cl-700080f0">F</span></p></td><td class="cl-700512fc"><p class="cl-7004f8f6"><span class="cl-700080f0">WHITE</span></p></td></tr></tbody></table></div>
</div>
</div>
</div>
</section>
<section id="table-design" class="slide level2">
<h2>Table design</h2>
<p>The concept of table design in <code>flextable</code> to RTF output is quite same as LaTex PDF we discussed in previous chapters. We can migrate the programming body part into this procedures as well. Create a <code>flextable</code> object and customize the column headers and data body.</p>
<div class="columns">
<div class="column" style="width:70%;">
<p><img data-src="pictures/rtf-body2.png"></p>
</div><div class="column" style="width:30%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="pictures/flextable_layout.png"></p>
<figcaption>flextable table parts</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="rtf-template-section" class="slide level2">
<h2>RTF Template section</h2>
<ol type="1">
<li><code>flextable::set_flextable_defaults()</code>: Default properties contains the font family, the font size, padding, text alignment…, which will be used to flextable RTF outputs.</li>
<li><code>officer::fpar(..., fp_p = fp_par(), fp_t = fp_text_lite(), values = NULL)</code>: Create a paragraph representation by concatenating formatted text or images.</li>
<li><code>officer::ftext(text, prop = NULL)</code>: Format a chunk of text with text formatting properties (bold, color, …).</li>
<li><code>officer::prop_section()</code>: A Section properties object stores information about page composition, such as page size, page orientation, borders and margins.</li>
</ol>
</section>
<section id="demographic-table-for-example" class="slide level2">
<h2>Demographic Table for Example</h2>
<ul>
<li>Let’s look deep into a demographic table created by <code>flextable</code> with details:
<ul>
<li><a href="t-dm.rtf">DM tables in flextable</a></li>
</ul></li>
</ul>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Step 1</a></li><li><a href="#tabset-1-2">Step 2</a></li><li><a href="#tabset-1-3">Step 3</a></li><li><a href="#tabset-1-4">Step 4</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<ul>
<li>Programming Body</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="co"># Import ADaM datasets</span></span>
<span id="cb14-2"><a href="#cb14-2"></a>adsl<span class="ot">&lt;-</span><span class="fu">read_xpt</span>(<span class="fu">file.path</span>(path<span class="sc">$</span>adam, <span class="st">"adsl.xpt"</span>))</span>
<span id="cb14-3"><a href="#cb14-3"></a></span>
<span id="cb14-4"><a href="#cb14-4"></a><span class="co"># Factorized categorical variables for dummy</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>adsl <span class="ot">&lt;-</span> adsl <span class="sc">|&gt;</span> </span>
<span id="cb14-6"><a href="#cb14-6"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="at">TRT01P =</span> <span class="fu">factor</span>(TRT01P, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"Placebo"</span>, <span class="st">"Xanomeline Low Dose"</span>,  <span class="st">"Xanomeline High Dose"</span>)),</span>
<span id="cb14-8"><a href="#cb14-8"></a>    <span class="at">AGEGR1 =</span> <span class="fu">factor</span>(AGEGR1, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"&lt;65"</span>, <span class="st">"65-80"</span>, <span class="st">"&gt;80"</span>)),</span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="at">RACE =</span> <span class="fu">factor</span>(RACE, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">"ASIAN"</span>, <span class="st">"WHITE"</span>, <span class="st">"BLACK OR AFRICAN AMERICAN"</span>, <span class="st">"AMERICAN INDIAN OR ALASKA NATIVE"</span>)),</span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="at">TRTN =</span> <span class="fu">fct_recode</span>(<span class="fu">as.factor</span>(TRT01PN),</span>
<span id="cb14-11"><a href="#cb14-11"></a>                      <span class="st">"1"</span> <span class="ot">=</span> <span class="st">"54"</span>,</span>
<span id="cb14-12"><a href="#cb14-12"></a>                      <span class="st">"2"</span> <span class="ot">=</span> <span class="st">"81"</span>,</span>
<span id="cb14-13"><a href="#cb14-13"></a>                      <span class="st">"3"</span> <span class="ot">=</span> <span class="st">"0"</span></span>
<span id="cb14-14"><a href="#cb14-14"></a>    )</span>
<span id="cb14-15"><a href="#cb14-15"></a>  ) </span>
<span id="cb14-16"><a href="#cb14-16"></a></span>
<span id="cb14-17"><a href="#cb14-17"></a><span class="co"># Summary Data Frame Function</span></span>
<span id="cb14-18"><a href="#cb14-18"></a>sumfunc <span class="ot">&lt;-</span> <span class="cf">function</span>(data, condition, group_var, var, label, decimal) {</span>
<span id="cb14-19"><a href="#cb14-19"></a>  ...</span>
<span id="cb14-20"><a href="#cb14-20"></a>}</span>
<span id="cb14-21"><a href="#cb14-21"></a></span>
<span id="cb14-22"><a href="#cb14-22"></a><span class="co">#Categorical Variables</span></span>
<span id="cb14-23"><a href="#cb14-23"></a>catfunc <span class="ot">&lt;-</span> <span class="cf">function</span>(data, condition, group_var, catvar, label) {</span>
<span id="cb14-24"><a href="#cb14-24"></a>  ...</span>
<span id="cb14-25"><a href="#cb14-25"></a>}</span>
<span id="cb14-26"><a href="#cb14-26"></a></span>
<span id="cb14-27"><a href="#cb14-27"></a><span class="co">#Bind all parts together</span></span>
<span id="cb14-28"><a href="#cb14-28"></a>final <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(...) <span class="sc">|&gt;</span></span>
<span id="cb14-29"><a href="#cb14-29"></a>  <span class="fu">select</span>(col0, col1, col2, col3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-2">
<ul>
<li>Default header and footer in formatter paragraphs</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="co"># Default headers will be applied in prop_section() argument header_default =. </span></span>
<span id="cb15-2"><a href="#cb15-2"></a>header_default <span class="ot">&lt;-</span> <span class="fu">block_list</span>(</span>
<span id="cb15-3"><a href="#cb15-3"></a>  <span class="fu">fpar</span>(<span class="fu">ftext</span>(<span class="st">"Summary of Demographic and Baseline Characteristic"</span>, <span class="fu">fp_text</span>(<span class="at">font.size =</span> <span class="dv">9</span>)),</span>
<span id="cb15-4"><a href="#cb15-4"></a>    <span class="at">fp_p =</span> <span class="fu">fp_par</span>(<span class="at">text.align =</span> <span class="st">"center"</span>)</span>
<span id="cb15-5"><a href="#cb15-5"></a>    ),</span>
<span id="cb15-6"><a href="#cb15-6"></a>  <span class="fu">fpar</span>(<span class="fu">ftext</span>(<span class="st">"(Safety Analysis Population)"</span>,<span class="fu">fp_text</span>(<span class="at">font.size =</span> <span class="dv">9</span>)),</span>
<span id="cb15-7"><a href="#cb15-7"></a>       <span class="at">fp_p =</span> <span class="fu">fp_par</span>(<span class="at">text.align =</span> <span class="st">"center"</span>)</span>
<span id="cb15-8"><a href="#cb15-8"></a>  ),</span>
<span id="cb15-9"><a href="#cb15-9"></a>  ...</span>
<span id="cb15-10"><a href="#cb15-10"></a>)</span>
<span id="cb15-11"><a href="#cb15-11"></a><span class="co"># Default footers will be applied in prop_section() argument footer_default =. </span></span>
<span id="cb15-12"><a href="#cb15-12"></a>footer_default <span class="ot">&lt;-</span> <span class="fu">block_list</span>(</span>
<span id="cb15-13"><a href="#cb15-13"></a>  <span class="fu">fpar</span>(<span class="fu">ftext</span>(<span class="st">"Note: This is note 1."</span>, <span class="fu">fp_text</span>(<span class="at">font.size =</span> <span class="dv">9</span>)),</span>
<span id="cb15-14"><a href="#cb15-14"></a>       <span class="at">fp_p =</span> <span class="fu">fp_par</span>(<span class="at">text.align =</span> <span class="st">"left"</span>)</span>
<span id="cb15-15"><a href="#cb15-15"></a>  ),</span>
<span id="cb15-16"><a href="#cb15-16"></a>  <span class="fu">fpar</span>(<span class="fu">ftext</span>(<span class="st">"Note: This is note 2."</span>, <span class="fu">fp_text</span>(<span class="at">font.size =</span> <span class="dv">9</span>)),</span>
<span id="cb15-17"><a href="#cb15-17"></a>    <span class="at">fp_p =</span> <span class="fu">fp_par</span>(<span class="at">text.align =</span> <span class="st">"left"</span>)</span>
<span id="cb15-18"><a href="#cb15-18"></a>  )</span>
<span id="cb15-19"><a href="#cb15-19"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-3">
<ul>
<li>Properties for template</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a><span class="fu">set_flextable_defaults</span>(</span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="at">border.color =</span> <span class="st">"#AAAAAA"</span>, <span class="at">font.family =</span> <span class="st">"Arial"</span>,</span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="at">font.size =</span> <span class="dv">9</span>, <span class="at">padding =</span> <span class="dv">3</span>, <span class="at">line_spacing =</span> <span class="dv">1</span></span>
<span id="cb16-4"><a href="#cb16-4"></a>)</span>
<span id="cb16-5"><a href="#cb16-5"></a></span>
<span id="cb16-6"><a href="#cb16-6"></a>sect_properties <span class="ot">&lt;-</span><span class="fu">prop_section</span>(</span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="fu">page_size</span>(<span class="at">orient =</span> <span class="st">"landscape"</span>),</span>
<span id="cb16-8"><a href="#cb16-8"></a>  <span class="at">page_margins =</span> <span class="fu">page_mar</span>(<span class="at">bottom =</span> <span class="fl">0.375</span>,<span class="at">top =</span> <span class="fl">0.75</span>,<span class="at">right =</span> <span class="fl">0.75</span>,<span class="at">left =</span> <span class="fl">0.75</span>, <span class="at">header=</span> <span class="fl">0.75</span>, <span class="at">footer =</span> <span class="fl">0.75</span>, <span class="at">gutter =</span><span class="dv">0</span>),</span>
<span id="cb16-9"><a href="#cb16-9"></a>  <span class="at">type =</span> <span class="cn">NULL</span>,</span>
<span id="cb16-10"><a href="#cb16-10"></a>  <span class="at">section_columns =</span> <span class="cn">NULL</span>,</span>
<span id="cb16-11"><a href="#cb16-11"></a>  <span class="at">header_default =</span> header_default,</span>
<span id="cb16-12"><a href="#cb16-12"></a>  <span class="at">footer_default =</span> footer_default</span>
<span id="cb16-13"><a href="#cb16-13"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div id="tabset-1-4">
<ul>
<li>Create flextable and save the customized output in RTF</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>ft<span class="ot">&lt;-</span>final <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">flextable</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">prepend_chunks</span>(<span class="at">i =</span> ind_num, <span class="at">j  =</span> <span class="dv">1</span>, <span class="fu">as_chunk</span>(<span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">set_header_labels</span>(<span class="at">row =</span> <span class="st">""</span>, <span class="at">TRTS1 =</span> <span class="st">"Xanomeline Low Dose </span><span class="sc">\n</span><span class="st"> (n = 84)"</span>, </span>
<span id="cb17-5"><a href="#cb17-5"></a>                    <span class="at">TRTS2 =</span> <span class="st">"Xanomeline High Dose </span><span class="sc">\n</span><span class="st"> (n = 84)"</span>, <span class="at">TRTS3 =</span> <span class="st">"Placebo </span><span class="sc">\n</span><span class="st"> (n = 86)"</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-6"><a href="#cb17-6"></a>  <span class="fu">autofit</span>() <span class="sc">|&gt;</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">width</span>(<span class="at">j =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>, <span class="at">width =</span> <span class="dv">2</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="fu">width</span>(<span class="at">j =</span> <span class="dv">1</span>, <span class="at">width =</span> <span class="dv">4</span>) <span class="sc">|&gt;</span></span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="fu">align</span>(</span>
<span id="cb17-10"><a href="#cb17-10"></a>    <span class="at">j =</span> <span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>,</span>
<span id="cb17-11"><a href="#cb17-11"></a>    <span class="at">align =</span> <span class="st">"center"</span>,</span>
<span id="cb17-12"><a href="#cb17-12"></a>    <span class="at">part =</span> <span class="st">"all"</span></span>
<span id="cb17-13"><a href="#cb17-13"></a>  )</span>
<span id="cb17-14"><a href="#cb17-14"></a>  </span>
<span id="cb17-15"><a href="#cb17-15"></a> <span class="fu">save_as_rtf</span>(ft, <span class="at">path =</span> <span class="fu">paste0</span>(<span class="fu">getwd</span>(), <span class="st">"/"</span>, <span class="st">"t-dm.rtf"</span>), <span class="at">pr_section =</span> sect_properties)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="simplify-and-standarize-the-programming-procedures" class="slide level2">
<h2>Simplify and standarize the programming procedures</h2>
<ul>
<li><p><code>TLF-setup.r</code> is a R script contained codes to set up the RTF template and read titles and footnotes from external metadata which should be created and maintained by Lead programmer.</p></li>
<li><p>Prod/Dev programmers assign the R program/Output names and Linked TLF number at the beginning of program. Then use <code>source()</code> for template setup as below:</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>program <span class="ot">&lt;-</span> <span class="st">"t-dm.r"</span></span>
<span id="cb18-2"><a href="#cb18-2"></a>outname <span class="ot">&lt;-</span> <span class="st">"t-dm.rtf"</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>tlf_number <span class="ot">&lt;-</span> <span class="st">"Table 14.2.1"</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>metadata_type <span class="ot">&lt;-</span> <span class="st">"xlsx"</span> <span class="co">#file type include: sas7bdat, csv, xlsx, xls</span></span>
<span id="cb18-5"><a href="#cb18-5"></a></span>
<span id="cb18-6"><a href="#cb18-6"></a><span class="fu">source</span>(<span class="st">"TLF-setup.R"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li><code>TLF-setup.r</code> <strong>is also compatible with our company’s shell and title_footnote metadata.</strong></li>
</ul>
</section>
<section id="alternative-method-to-read-mockup-by-r" class="slide level2">
<h2>Alternative method to read mockup by R</h2>
<ul>
<li><p><code>read-mockup.r</code> is an alternative method to replace <code>read_tfl_titlefoot.sas</code> to create metadata including all titles and footnotes in case you want to make the whole procedure with R only.</p></li>
<li><p>Theoretically, it followed the same internal rules for collecting effective titles and footnotes using internal shell, and generate same data frame which could be applied for both R and SAS production side. But <em>SAS7BDAT</em> is not supported to export from R, so CSV/XLSX will be recommended to use (<code>haven::write_xpt()</code> may work by not suggested);</p></li>
<li><p>Use <code>officer::read_docx()</code> and <code>officer::docx_summary()</code> function to read mockup shell into data.frame</p></li>
</ul>
</section>
<section id="batch-run-and-log-check-scheme" class="slide level2">
<h2>Batch run and log check scheme</h2>
<ul>
<li><p>R doesn’t generate such logs like SAS does because most of analysis programming need to assign an object without any echo. And warning message sometimes doesn’t be treated as a <span style="color:red">red</span> flag.</p></li>
<li><p>The new object will not be assigned when unacceptable errors and warnings happen in one step and the whole programs will be suspended here.</p></li>
<li><p>We use these features above and <code>source()</code> our TLF codes in a R markdown file to generate a html document with all echos for review.</p></li>
</ul>
</section>
<section id="comparison-of-two-methods" class="slide level2">
<h2>Comparison of two methods</h2>
<table>
<colgroup>
<col style="width: 34%">
<col style="width: 34%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th></th>
<th>R Markdown + kableExtra</th>
<th>flextable + officer</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Output TLF Format</td>
<td>Highly Customized PDF</td>
<td>Highly Customized RTF</td>
</tr>
<tr class="even">
<td>Template Setup</td>
<td>`TLF-start.r`</td>
<td>`TLF-setup.r`</td>
</tr>
<tr class="odd">
<td>Compatible with corporate templates</td>
<td>Yes</td>
<td>Yes</td>
</tr>
<tr class="even">
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="tlf-working-procedures" class="slide level2">
<h2>TLF working procedures</h2>
<div class="cell">
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-8dfa422fa6c5e9a46436" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-8dfa422fa6c5e9a46436">{"x":{"diagram":"digraph {\n\ngraph [layout = dot, rankdir = LR]\n\n# define the global styles of the nodes. We can override these in box if we wish\nnode [shape = rectangle, style = filled, fillcolor = Linen]\n\nmockup [label =  \"Internal \n mock-up shell\"]\nread1 [label = \"read_tfl_titlefoot.sas\", shape = folder, fillcolor = Beige]\ntitlefoot [label =  \"title_footnote \n (.sas7bdat)\"]\nsas [label = \"custom.sas \n create_tfl_titlefoot.sas\", shape = folder, fillcolor = Beige]\nrtf [label= \"RTF \n output\"]\nrtf2pdf [label = \"rtf2pdf \n (via Py)\", shape = folder, fillcolor = Beige]\npdf [label= \"PDF \n output\"]\n\n# edge definitions with the node IDs\nmockup -> read1  -> titlefoot -> sas -> rtf\n\nrtf -> rtf2pdf -> pdf\n\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="tlf-working-procedures-expanded" class="slide level2">
<h2>TLF working procedures (expanded)</h2>
<div class="cell">
<div class="cell-output-display">

<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3ee987a171b90a0267b6" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-3ee987a171b90a0267b6">{"x":{"diagram":"digraph {\n\ngraph [layout = dot, rankdir = LR]\n\n# define the global styles of the nodes. We can override these in box if we wish\nnode [shape = rectangle, style = filled, fillcolor = Linen]\n\nmockup [label =  \"Internal \n mock-up shell\"]\nread1 [label = \"read_tfl_titlefoot.sas\", shape = folder, fillcolor = Beige]\nread2 [label = \"read-mockp.r\", shape = ellipse, fillcolor = Moccasin]\ntitlefoot [label =  \"title_footnote \n (.sas7bdat .xlsx .csv)\"]\nsas [label = \"custom.sas \n create_tfl_titlefoot.sas\", shape = folder, fillcolor = Beige]\nrmd [label = \"TLF-start.r \n (rmarkdown)\", shape = ellipse, fillcolor = Pink]\nr [label = \"TLF-setup.r \n (flextable)\", shape = ellipse, fillcolor = Moccasin]\nrtf [label= \"RTF \n output\"]\nrtf2pdf [label = \"rtf2pdf \n (via Py)\", shape = folder, fillcolor = Beige]\npdf [label= \"PDF \n output\"]\n\n# edge definitions with the node IDs\nmockup -> {read1 read2}  -> titlefoot -> {sas r} -> rtf\n\ntitlefoot -> rmd -> pdf\n\nrtf -> rtf2pdf -> pdf\n\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="whats-more-is-happening" class="slide level2">
<h2>What’s more is happening?</h2>
<blockquote>
<p>End-to-End Clinical Reporting Packages</p>
</blockquote>
<div class="fragment">
<ul>
<li><img data-src="pictures/roak.png" style="width:12.0%"> OAK is an open-source community project to evolve software that uses agnostic transformation logic to enable mapping of CDASH to SDTM whose functionality will also generate raw synthetic data.</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><img data-src="pictures/admiral.png" style="width:12.0%"> To provide an open source, modularized toolbox that enables the pharmaceutical programming community to develop ADaM datasets in R.</li>
</ul>
</div>
</section>
<section id="whats-more-is-happening-1" class="slide level2">
<h2>What’s more is happening?</h2>
<blockquote>
<p>End-to-End Clinical Reporting Packages</p>
</blockquote>
<div class="fragment">
<ul>
<li><img data-src="pictures/xportr.png" style="width:12.0%"> Serves as a single tool to create SAS transport files and perform pharma specific dataset level validation checks</li>
</ul>
</div>
<div class="fragment">
<ul>
<li><img data-src="pictures/pkglite.png" style="width:12.0%"> To represent and exchange R package source code as text files</li>
</ul>
</div>
</section>
<section id="study-data-standard-is-also-changing" class="slide level2">
<h2>Study Data Standard is also changing</h2>
<ul>
<li>Transport v5 file(xpt) to JSON</li>
</ul>
<blockquote>
<p>“CDER and CBER, in collaboration with CDISC and PhUSE, has conducted preliminary testing of CDISC’s Dataset JSON message exchange standard. Initial results indicate potential use as a replacement for XPT v5. As such, CBER and CDER will conduct further testing to evaluate Dataset JSON’s capability to support the submission of regulatory study data. Results will be communicated, and we will engage relevant parties for input as we progress through this evaluation.”</p>
</blockquote>
<p style="text-align: right;">
— FDA Study Data Standards Resources Page
</p>
</section>
<section id="sources" class="slide level2">
<h2>Sources</h2>
<ul>
<li>If you want to know more about:
<ul>
<li><a href="https://ardata-fr.github.io/flextable-book/index.html">flextable</a></li>
<li><a href="https://ardata-fr.github.io/officeverse/index.html">officer</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/">rmarkdown</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown-cookbook/latex-output.html">rmarkdown for LaTeX Output</a></li>
</ul></li>
</ul>
</section>
<section id="thanks" class="title-slide slide level1 end-slide center">
<h1>Thanks</h1>
<p><img data-src="assets/logo-end.png" class="absolute" style="top: 200px; left: 330px; width: 400px; height: 320px; "></p>
<p><img src="assets/footlogo.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/reveal-pointer/pointer.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="Clinical_Report_With_R_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'pointer': {"key":"q","color":"red","pointerSize":16,"alwaysVisible":false},
'smaller': true,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealPointer, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>